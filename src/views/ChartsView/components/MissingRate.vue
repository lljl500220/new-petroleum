<template>
  <div ref="missingDom" class="missing-dom" />
</template>

<script setup lang="ts">
import * as echarts from 'echarts'
import { onMounted, ref } from 'vue'
import 'echarts-liquidfill'

const missingDom: any = ref(null)

const option = {
  series: [
    {
      type: 'liquidFill',
      data: [0.1, 0.5, 0.4, 0.3],
      shape:
        'path://M896 598.890667c0 101.44-40.554667 198.698667-112.746667 270.421333A386.176 386.176 0 0 1 511.082667 981.333333a386.197333 386.197333 0 0 1-272.192-112c-164.885333-163.84-128.256-412.970667-5.141334-588.8 22.869333-32.64 102.72-127.786667 215.466667-191.616 33.6-19.029333 70.122667-35.264 108.949333-46.250666-17.216 38.314667-29.056 73.301333-36.821333 104.874666-9.130667 37.184-12.629333 69.674667-12.629333 97.365334 0 95.018667 25.536 150.208 84.778666 148.992 31.232 0 52.48-22.4 66.624-48.789334 20.266667-37.738667 26.069333-83.562667 26.069334-83.562666s36.373333 19.328 76.522666 51.584c31.146667 25.002667 64.533333 57.792 84.992 95.317333A395.648 395.648 0 0 1 896 598.890667z m-167.104-202.410667c18.474667 16.981333 34.218667 35.093333 43.882667 52.821333A310.272 310.272 0 0 1 810.666667 598.656v0.234667c0 78.613333-31.424 154.133333-87.552 209.898666A300.864 300.864 0 0 1 511.061333 896a300.864 300.864 0 0 1-212.032-87.210667c-123.114667-122.346667-106.24-320.981333 4.608-479.317333 10.816-15.424 44.842667-57.578667 95.573334-101.034667 8.298667-7.082667 16.896-14.101333 25.813333-20.970666a438.912 438.912 0 0 0-1.642667 37.44c0 52.288 6.528 106.922667 30.421334 151.146666 12.672 23.424 31.146667 45.653333 57.28 61.44 26.133333 15.829333 54.890667 22.186667 83.285333 21.76 69.802667-0.384 111.445333-44.970667 134.528-82.773333z',
      outline: {
        show: false
      },
      label: {
        normal: {
          textStyle: {
            fontSize: '1rem',
            color: '#1f89e0',
            insideColor: '#fff'
          }
        }
      }
    }
  ]
}
const initChart = () => {
  missingDom.value && echarts.dispose(missingDom.value)
  // option.title.text = title
  // option.series[0].data = data
  const chart = echarts.init(missingDom.value)
  chart.setOption(option)
}

onMounted(() => {
  initChart()
})
</script>

<style scoped lang="less">
.missing-dom {
  height: 40%;
  width: 20%;
}
</style>
